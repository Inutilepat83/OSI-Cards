<ng-container *ngFor="let action of actions; trackBy: trackAction; let i = index">
  <button
    type="button"
    class="osi-action-button"
    [class.osi-action-button--primary]="!action.variant || action.variant === 'primary'"
    [class.osi-action-button--secondary]="action.variant === 'secondary' || action.variant === 'outline'"
    [attr.aria-label]="getActionAriaLabel(action)"
    [attr.aria-describedby]="action.type === 'mail' ? 'action-mail-hint-' + i : null"
    (click)="onActionClick(action)"
    (keydown.enter)="onActionClick(action)"
    (keydown.space)="$event.preventDefault(); onActionClick(action)"
  >
    <!-- Lucide icon (for type defaults or explicit lucide icon names) -->
    <lucide-icon 
      *ngIf="getActionIconNameForDisplay(action) as iconName"
      [name]="iconName"
      [size]="16"
      aria-hidden="true">
    </lucide-icon>
    <!-- Image icon (for URL-based icons) -->
    <img 
      *ngIf="hasImageIcon(action)"
      [src]="action.icon"
      [alt]="action.label + ' icon'"
      class="osi-action-button__icon"
      aria-hidden="true"
    />
    <!-- Text icon (for emoji or text-based icons) -->
    <span *ngIf="hasTextIcon(action)" class="osi-action-button__emoji" aria-hidden="true">{{ action.icon }}</span>
    <span class="osi-action-button__label">{{ action.label }}</span>
    <!-- Hidden hint for mail actions -->
    <span *ngIf="action.type === 'mail'" [id]="'action-mail-hint-' + i" class="sr-only">
      This will open your email client with pre-filled recipient and message
    </span>
  </button>
</ng-container>




