<ng-container *ngIf="sections.length; else emptyState">
  <!-- 
    Grid configuration uses standardized values from grid-config.util.ts:
    - minColumnWidth: 260px (MIN_COLUMN_WIDTH)
    - maxColumns: 4 (MAX_COLUMNS)
    - gap: 12px (GRID_GAP)
    These are now the defaults in MasonryGridComponent, no need to override.
  -->
  <app-masonry-grid
    [sections]="sections"
    [containerWidth]="containerWidth"
    [isStreaming]="isStreaming"
    class="w-full"
    [attr.aria-label]="'Card sections: ' + sections.length + ' section' + (sections.length !== 1 ? 's' : '')"
    [attr.aria-live]="isStreaming ? 'polite' : 'off'"
    [attr.aria-atomic]="isStreaming ? 'false' : null"
    [attr.aria-relevant]="isStreaming ? 'additions' : null"
    role="region"
    (sectionEvent)="onSectionEvent($event)"
    (layoutChange)="onLayoutChange($event)"
  ></app-masonry-grid>
</ng-container>

<ng-template #emptyState>
  <div class="empty-sections-message">
    <p>No sections available</p>
  </div>
</ng-template>
