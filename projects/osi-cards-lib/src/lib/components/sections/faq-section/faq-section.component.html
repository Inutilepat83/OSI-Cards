<div class="faq-container">
  <!-- Section Header -->
  <div class="section-header" *ngIf="section.title || section.description">
    <h3 class="section-title" *ngIf="section.title">{{ section.title }}</h3>
    <p class="section-description" *ngIf="section.description">{{ section.description }}</p>
  </div>

  <!-- FAQ List -->
  <div class="faq-list" *ngIf="section.items && section.items.length > 0">
    <div class="faq-item" *ngFor="let item of section.items; let i = index" [class.is-expanded]="isExpanded(i)">
      <!-- Question (Clickable) -->
      <button
        class="faq-question"
        (click)="toggle(i)"
        [attr.aria-expanded]="isExpanded(i)"
        [attr.aria-controls]="'faq-answer-' + i"
      >
        <span class="question-text">{{ getQuestion(item) }}</span>
        <span class="question-icon" [class.rotated]="isExpanded(i)">
          <span class="chevron">›</span>
        </span>
      </button>

      <!-- Answer (Expandable) -->
      <div class="faq-answer" [id]="'faq-answer-' + i" *ngIf="isExpanded(i)" [@fadeInOut]>
        <p class="answer-text">{{ getAnswer(item) }}</p>
        <span class="answer-category" *ngIf="item.meta?.category">
          {{ item.meta?.category }}
        </span>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="faq-empty" *ngIf="!section.items || section.items.length === 0">
    <div class="empty-icon">❓</div>
    <p class="empty-text">No FAQs available</p>
  </div>
</div>
