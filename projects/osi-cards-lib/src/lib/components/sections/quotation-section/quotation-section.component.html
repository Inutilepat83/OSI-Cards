<div class="ai-section ai-section--quotation section-content">
  <lib-section-header *ngIf="section.title" [title]="section.title" [description]="section.description">
  </lib-section-header>

  <div class="grid" *ngIf="section.fields?.length">
    <blockquote
      class="section-item"
      *ngFor="let q of section.fields; let i = index"
      [class.section-item--expanded]="isQuoteExpanded(i)"
    >
      <div class="icon">"</div>
      <div class="text-wrapper">
        <p class="text" [class.text--expanded]="isQuoteExpanded(i)" [class.section-item__text]="true">
          {{ getQuoteText(q) }}
        </p>
        <button
          *ngIf="shouldShowExpandButton(q)"
          class="quote-expand-btn"
          type="button"
          (click)="toggleExpanded(i); $event.stopPropagation()"
          [attr.aria-expanded]="isQuoteExpanded(i)"
          [attr.aria-label]="(isQuoteExpanded(i) ? 'Collapse' : 'Expand') + ' quote'"
        >
          {{ isQuoteExpanded(i) ? 'Show less' : 'Show more' }}
        </button>
      </div>
      <footer class="footer">
        <cite class="name">{{ getAuthorName(q) }}</cite>
        <span class="role" *ngIf="q.role">{{ q.role }}</span>
      </footer>
    </blockquote>
  </div>

  <lib-empty-state *ngIf="!section.fields?.length" message="No quotation data" icon="ðŸ’¬" variant="minimal">
  </lib-empty-state>
</div>
