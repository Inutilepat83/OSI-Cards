<div class="contacts-container">
  <!-- Section Header -->
  <div class="section-header" *ngIf="section.title || section.description">
    <h3 class="section-title" *ngIf="section.title">{{ section.title }}</h3>
    <p class="section-description" *ngIf="section.description">{{ section.description }}</p>
  </div>

  <!-- Contacts Grid -->
  <div class="contacts-grid" *ngIf="section.fields && section.fields.length > 0">
    <div class="contact-card" *ngFor="let contact of section.fields">

      <!-- Avatar -->
      <div class="contact-avatar">
        <img [src]="getAvatar(contact)"
             [alt]="getContactName(contact)"
             *ngIf="getAvatar(contact)"
             loading="lazy">
        <span class="avatar-initials" *ngIf="!getAvatar(contact)">
          {{ getInitials(getContactName(contact)) }}
        </span>
      </div>

      <!-- Contact Info -->
      <div class="contact-info">
        <h4 class="contact-name">{{ getContactName(contact) }}</h4>
        <p class="contact-role" *ngIf="getContactRole(contact)">{{ getContactRole(contact) }}</p>

        <!-- Department Badge -->
        <span class="contact-department" *ngIf="contact.department">
          {{ contact.department }}
        </span>

        <!-- Location -->
        <div class="contact-location" *ngIf="contact.location">
          <span>{{ contact.location }}</span>
        </div>

        <!-- Contact Methods -->
        <div class="contact-methods">
          <a [href]="'mailto:' + contact.email"
             class="contact-link"
             *ngIf="contact.email"
             [attr.aria-label]="'Email ' + getContactName(contact)">
            Email
          </a>
          <a [href]="'tel:' + contact.phone"
             class="contact-link"
             *ngIf="contact.phone"
             [attr.aria-label]="'Call ' + getContactName(contact)">
            Call
          </a>
          <a [href]="contact.linkedIn"
             class="contact-link"
             target="_blank"
             rel="noopener"
             *ngIf="contact.linkedIn"
             [attr.aria-label]="getContactName(contact) + ' LinkedIn'">
            LinkedIn
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="contacts-empty" *ngIf="!section.fields || section.fields.length === 0">
    <p class="empty-text">No contacts available</p>
  </div>
</div>
