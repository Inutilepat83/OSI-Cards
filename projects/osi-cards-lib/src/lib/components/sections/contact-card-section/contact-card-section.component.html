<div class="contacts">
  <lib-section-header *ngIf="section.title" [title]="section.title" [description]="section.description">
  </lib-section-header>

  <div class="grid" *ngIf="section.fields?.length">
    <div class="card" *ngFor="let c of section.fields">
      <div class="avatar">
        <img [src]="getAvatar(c)" [alt]="getContactName(c)" *ngIf="getAvatar(c)" loading="lazy" />
        <span class="initials" *ngIf="!getAvatar(c)">{{ getInitials(getContactName(c)) }}</span>
      </div>
      <h4 class="name">{{ getContactName(c) }}</h4>
      <p class="role" *ngIf="getContactRole(c)">{{ getContactRole(c) }}</p>
      <lib-badge *ngIf="c.department" class="dept" variant="primary" size="sm">{{ c.department }}</lib-badge>
      <div class="actions">
        <a [href]="'mailto:' + c.email" class="action" *ngIf="c.email" title="Email">ðŸ“§</a>
        <a [href]="'tel:' + c.phone" class="action" *ngIf="c.phone" title="Call">ðŸ“ž</a>
        <a [href]="c.linkedIn" class="action" target="_blank" rel="noopener" *ngIf="c.linkedIn" title="LinkedIn">ðŸ’¼</a>
      </div>
    </div>
  </div>

  <lib-empty-state *ngIf="!section.fields?.length" message="No contacts" icon="ðŸ‘¤" variant="compact"> </lib-empty-state>
</div>
