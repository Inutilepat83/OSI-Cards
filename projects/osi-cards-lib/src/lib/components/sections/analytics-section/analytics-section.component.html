<div class="analytics-container">
  <!-- Section Header -->
  <div class="section-header" *ngIf="section.title || section.description">
    <h3 class="section-title" *ngIf="section.title">{{ section.title }}</h3>
    <p class="section-description" *ngIf="section.description">{{ section.description }}</p>
  </div>

  <!-- Metrics Grid -->
  <div class="analytics-grid" *ngIf="section.fields && section.fields.length > 0">
    <div class="metric-card" *ngFor="let metric of section.fields" [class.has-icon]="metric.icon">
      <!-- Metric Header -->
      <div class="metric-header">
        <span class="metric-label">{{ metric.label }}</span>
        <span class="metric-trend" [ngClass]="getTrendClass(metric.trend)" *ngIf="metric.trend">
          <span class="trend-icon" [attr.data-trend]="metric.trend"></span>
          <span class="trend-text" *ngIf="metric.change">{{ formatChange(metric.change) }}</span>
        </span>
      </div>

      <!-- Metric Value -->
      <div class="metric-value">{{ metric.value }}</div>

      <!-- Progress Bar (if percentage provided) -->
      <div class="metric-progress" *ngIf="metric.percentage !== undefined">
        <div class="progress-fill"
             [style.width.%]="metric.percentage"
             [ngClass]="getPerformanceClass(metric.performance)">
        </div>
      </div>

      <!-- Performance Badge -->
      <span class="metric-performance"
            [ngClass]="getPerformanceClass(metric.performance)"
            *ngIf="metric.performance">
        {{ metric.performance }}
      </span>
    </div>
  </div>

  <!-- Empty State -->
  <div class="analytics-empty" *ngIf="!section.fields || section.fields.length === 0">
    <p class="empty-text">No analytics data available</p>
  </div>
</div>
