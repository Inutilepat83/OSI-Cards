<div class="ai-section ai-section--solutions section-content">
  <!-- Section Header -->
  <lib-section-header [title]="section.title" [description]="section.description"> </lib-section-header>

  <!-- Solutions Grid -->
  <div class="solutions-grid" *ngIf="section.fields && section.fields.length > 0">
    <div class="solution-card" *ngFor="let solution of section.fields; let i = index" [class.expanded]="isExpanded(i)">
      <!-- Solution Header -->
      <div class="solution-header">
        <h4 class="solution-title">{{ solution.title }}</h4>
        <span class="solution-category" *ngIf="solution.category">{{ solution.category }}</span>
      </div>

      <!-- Solution Description -->
      <p class="solution-description" *ngIf="solution.description" [class.expanded]="isDescriptionExpanded(i)">
        {{ solution.description }}
      </p>
      <button
        *ngIf="shouldShowExpandButton(solution)"
        class="solution-description-expand-button"
        type="button"
        (click)="toggleDescriptionExpanded(i)"
        [attr.aria-expanded]="isDescriptionExpanded(i)"
        [attr.aria-label]="
          (isDescriptionExpanded(i) ? 'Show less' : 'Show more') + ' description for ' + solution.title
        "
      >
        {{ isDescriptionExpanded(i) ? 'Show less' : 'Show more' }}
      </button>

      <!-- Benefits -->
      <ul class="solution-benefits" *ngIf="solution.benefits && solution.benefits.length > 0">
        <li *ngFor="let benefit of getVisibleBenefits(solution.benefits, i)">{{ benefit }}</li>
      </ul>

      <button
        class="solution-more"
        type="button"
        *ngIf="solution.benefits && solution.benefits.length > 2"
        (click)="toggleExpanded(i)"
      >
        {{ isExpanded(i) ? 'Show less' : '+' + (solution.benefits.length - 2) + ' more' }}
      </button>

      <!-- Meta Info -->
      <div class="solution-meta">
        <span class="delivery-time" *ngIf="solution.deliveryTime"> ‚è±Ô∏è {{ solution.deliveryTime }} </span>
        <lib-badge *ngIf="solution.complexity" [variant]="getComplexityVariant(solution.complexity)" size="sm">
          {{ solution.complexity }}
        </lib-badge>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <lib-empty-state
    *ngIf="!section.fields || section.fields.length === 0"
    message="No solution data"
    icon="üí°"
    variant="minimal"
  >
  </lib-empty-state>
</div>
