<div class="video-container">
  <!-- Section Header -->
  <div class="section-header" *ngIf="section.title || section.description">
    <h3 class="section-title" *ngIf="section.title">{{ section.title }}</h3>
    <p class="section-description" *ngIf="section.description">{{ section.description }}</p>
  </div>

  <!-- Videos Grid -->
  <div class="videos-grid" *ngIf="section.items && section.items.length > 0">
    <div class="video-card" *ngFor="let video of section.items">

      <!-- Video Player/Thumbnail -->
      <div class="video-wrapper">
        <!-- Embedded Video (YouTube/Vimeo) -->
        <iframe [src]="getSafeVideoUrl(video)"
                *ngIf="isEmbeddable(getVideoUrl(video))"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
        </iframe>

        <!-- Native Video -->
        <video [src]="getVideoUrl(video)"
               controls
               *ngIf="!isEmbeddable(getVideoUrl(video)) && getVideoUrl(video)"
               [poster]="getThumbnail(video)">
        </video>

        <!-- Thumbnail Only -->
        <img [src]="getThumbnail(video)"
             [alt]="video.title"
             *ngIf="!getVideoUrl(video) && getThumbnail(video)"
             class="video-thumbnail">
      </div>

      <!-- Video Info -->
      <div class="video-info">
        <h4 class="video-title">{{ video.title }}</h4>
        <p class="video-description" *ngIf="video.description">{{ video.description }}</p>

        <div class="video-meta">
          <span class="video-duration" *ngIf="video.meta?.duration">{{ video.meta?.duration }}</span>
          <span class="video-platform" *ngIf="video.meta?.platform">{{ video.meta?.platform }}</span>
          <span class="video-views" *ngIf="video.meta?.views">{{ video.meta?.views }} views</span>
          <span class="video-category" *ngIf="video.meta?.category">{{ video.meta?.category }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="video-empty" *ngIf="!section.items || section.items.length === 0">
    <p class="empty-text">No videos available</p>
  </div>
</div>
