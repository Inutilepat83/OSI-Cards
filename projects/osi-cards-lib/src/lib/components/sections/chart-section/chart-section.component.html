<div class="ai-section ai-section--chart section-content">
  <!-- Section Header -->
  <lib-section-header [title]="section.title" [description]="section.description"> </lib-section-header>

  <!-- Chart Display -->
  <div class="chart-wrapper" *ngIf="!chartInitFailed && hasValidData()">
    <div class="chart-container" *ngIf="chartLibraryLoaded() && !chartLoading">
      <canvas baseChart [data]="chartData" [options]="chartOptions" [type]="chartJsType"></canvas>
    </div>
    <div class="chart-loading-overlay" *ngIf="chartLoading">
      <div class="chart-loading-spinner"></div>
      <span class="chart-loading-text">Loading chart...</span>
    </div>
  </div>

  <!-- Error State -->
  <lib-empty-state
    *ngIf="chartInitFailed && section.chartData"
    [message]="chartError() || 'Chart unavailable'"
    icon="ðŸ“Š"
    variant="minimal"
  >
  </lib-empty-state>

  <!-- Empty State -->
  <lib-empty-state *ngIf="!section.chartData || !hasValidData()" message="No chart data" icon="ðŸ“Š" variant="minimal">
  </lib-empty-state>
</div>
