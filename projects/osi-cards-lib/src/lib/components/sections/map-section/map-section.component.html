<div class="ai-section ai-section--map section-content">
  <!-- Section Header -->
  <lib-section-header [title]="section.title" [description]="section.description"> </lib-section-header>

  <!-- Map Display -->
  <div class="map-wrapper" *ngIf="!mapInitFailed && section.fields && section.fields.length > 0">
    <div #mapElement class="map-element"></div>
    <div class="map-loading-overlay" *ngIf="tilesLoading">
      <div class="map-loading-spinner"></div>
      <span class="map-loading-text">Loading map...</span>
    </div>
  </div>

  <lib-empty-state
    *ngIf="mapInitFailed && section.fields && section.fields.length > 0"
    message="Map unavailable"
    icon="ðŸ—ºï¸"
    variant="minimal"
  >
  </lib-empty-state>

  <!-- Location List (Optional) -->
  <div class="location-list" *ngIf="section.fields && section.fields.length > 1">
    <div class="section-item" *ngFor="let location of section.fields">
      <h4 class="location-name">{{ location.name }}</h4>
      <p class="location-address" *ngIf="location.address">{{ location.address }}</p>
      <span class="location-type" *ngIf="location.type">{{ location.type }}</span>
    </div>
  </div>

  <!-- Empty State -->
  <lib-empty-state
    *ngIf="!section.fields || section.fields.length === 0"
    message="No location data"
    icon="ðŸ—ºï¸"
    variant="minimal"
  >
  </lib-empty-state>
</div>
