/* Base AI section container styling shared across card sections */
/* =========================================================== */
/* Consistent spacing across ALL sections - GLOBALLY ENFORCED */
@import "design-system";
@import "../../core/color-helpers";

.ai-section {
  --section-accent: var(--accent, #{$brand-color});
  --section-border-hover: 1px solid var(--card-border-hover, #{$brand-color-20});
  --section-background: var(
    --section-surface,
    var(--section-background, var(--card-section-bg, #fafafa))
  );
  --section-background-hover: var(
    --section-surface-hover,
    var(--section-background-hover, var(--card-section-bg, #fafafa))
  );
  --section-backdrop-filter: blur(12px);
  --section-spacing-bottom: clamp(4px, 0.8vw, 12px);
  --section-glow-background: radial-gradient(
    circle at top right,
    rgba(255, 121, 0, 0.35) 0%,
    transparent 65%
  );
  --section-glow-opacity-hover: 0.12;
  --section-title-underline-length: clamp(32px, 3vw, 48px);
  --section-title-underline-hover-length: clamp(40px, 4vw, 64px);
  --section-title-underline-height: 3px;
  --section-title-underline-offset: -10px;
  --section-title-hover-color: rgba(255, 180, 100, 1);
  height: 100% !important;
  margin-bottom: var(--section-spacing-bottom) !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }

  &:not(.masonry-item .ai-section) {
    @include section-wrapper;
  }

  .masonry-item & {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--section-card-gap) !important;
  }
}

.ai-section--main {
  --section-background: var(--section-bg-main, var(--section-surface, var(--background)));
  --section-background-hover: var(
    --section-bg-main-hover,
    var(--section-surface-hover, var(--background))
  );
}

.ai-section--contrast {
  --section-background: var(--section-bg-contrast, var(--card-section-bg));
  --section-background-hover: var(--section-bg-contrast-hover, var(--card-section-card-bg));
}

.ai-section__header {
  @include section-header(row, calc(var(--card-gap) * 0.75));
  align-items: center !important;
  padding: 0 0 calc(var(--card-gap) * 0.75) 0 !important;
  border-bottom: none !important;
  background: transparent !important;
  margin: 0 !important;
  flex-wrap: wrap !important;
  gap: calc(var(--card-gap) * 0.75) !important;
}

.ai-section__title {
  @include section-heading-text;
  font-size: var(--section-title-font-size, 1.1rem) !important;
  font-weight: var(--section-title-font-weight, 700) !important;
  letter-spacing: var(--section-title-letter-spacing, -0.02em) !important;
  line-height: var(--section-title-line-height, 1.3) !important;
  color: var(--card-text-primary, $foreground-color) !important;
  opacity: 1 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  position: relative !important;
  transition: color 0.22s cubic-bezier(0.4, 0, 0.2, 1) !important;
  padding: 0 !important;
  margin: 0 0 var(--section-title-margin-bottom) 0 !important;
  font-family: inherit !important;
  border: none !important;

  &::before {
    content: "" !important;
    position: absolute !important;
    left: 0 !important;
    bottom: var(--section-title-underline-offset, -10px) !important;
    width: var(--section-title-underline-length) !important;
    height: var(--section-title-underline-height) !important;
    background: var(--section-accent, var(--accent, $brand-color)) !important;
    border-radius: 2px !important;
    transition:
      width 0.22s ease,
      opacity 0.22s ease !important;
    transform-origin: left !important;
    opacity: 0.6 !important;
  }

  &:hover {
    color: var(--card-text-primary, $foreground-color) !important;

    &::before {
      width: var(--section-title-underline-hover-length) !important;
      opacity: 1 !important;
    }
  }
}

.ai-section__icon {
  display: none !important;
  width: var(--icon-size-section) !important;
  height: var(--icon-size-section) !important;
}

.ai-section__details {
  display: flex !important;
  flex-direction: column !important;
  gap: calc(var(--card-gap) * 0.75) !important;
}

.ai-section__description {
  @include section-description-text;
  color: $foreground-70 !important;
  letter-spacing: 0.01em !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
  margin-top: calc(var(--card-gap) * 0.5) !important;
  transition: color 0.2s ease !important;
  font-family: inherit !important;
}

.ai-section:hover .ai-section__description {
  color: $foreground-80 !important;
}

.ai-section__badge {
  @include standard-badge;
  display: none !important;
  padding: var(--tag-padding-y-sm) var(--tag-padding-x) !important;
  border-radius: var(--radius-sm) !important;
}

/* Show badge for sections that need it */
.ai-section--contact-card .ai-section__badge,
.ai-section--solutions .ai-section__badge,
.ai-section--event .ai-section__badge,
.ai-section--chart .ai-section__badge,
.ai-section--financials .ai-section__badge {
  display: none !important;
  align-items: center !important;
  padding: calc(var(--tag-padding-y-sm) * 0.75) calc(var(--tag-padding-x) * 0.875) !important;
  background: linear-gradient(135deg, $brand-color-15, $brand-color-12) !important;
  color: $brand-color-90 !important;
  border: none !important;
  box-shadow: none !important;
  border-radius: var(--section-card-border-radius) !important;
  font-size: var(--card-meta-font-size, 0.6rem) !important;
  font-weight: var(--card-meta-font-weight, 500) !important;
  transition:
    opacity 0.2s ease,
    background 0.2s ease !important;
  line-height: 1.2 !important;
}

.ai-section:hover .ai-section__badge {
  opacity: 1 !important;
  background: $brand-color-20 !important;
}

.ai-section__body {
  @include section-body(var(--section-gap-internal));
  padding: 0 !important;
  margin: 0 !important;
}

/* Consistent empty state styling for all sections */
.ai-section .section-empty {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: calc(var(--card-padding) * 1.5) !important;
  text-align: center !important;
  color: var(--muted-foreground) !important;
  min-height: auto !important;
  border-radius: var(--radius-md) !important;
  background: var(--section-item-background, var(--card-section-bg)) !important;
  border: 1px dashed var(--border) !important;
  transition:
    opacity 0.2s ease,
    background 0.2s ease !important;

  lucide-icon {
    margin-bottom: var(--card-gap) !important;
    opacity: 0.5 !important;
    color: var(--accent) !important;
    transition: all 0.2s ease !important;
  }

  p {
    font-size: var(--font-section-description, 0.85rem) !important;
    margin: 0 !important;
    font-weight: 500 !important;
    font-family: inherit !important;
  }

  &:hover {
    background: var(--section-item-background-hover, var(--card-section-card-bg)) !important;
    border-color: var(--accent) !important;

    lucide-icon {
      opacity: 0.7 !important;
    }
  }
}

/* Section type differentiation - subtle visual identities */
.ai-section--info {
  --section-accent: var(--section-accent-info, #{$brand-color});
}

.ai-section--analytics {
  --section-accent: var(--section-accent-analytics, #{$brand-color});
}

.ai-section--financials {
  --section-accent: var(--section-accent-financials, #{$brand-color});
}

.ai-section--map {
  --section-accent: var(--section-accent-map, #{$brand-color});
}

.ai-section--network-card {
  --section-accent: var(--section-accent-network, #{$brand-color});
}

.ai-section--contact-card {
  --section-accent: var(--section-accent-contact, #{$brand-color});
}

.ai-section--product {
  --section-accent: var(--section-accent-product, #{$brand-color});
}

.ai-section--solutions {
  --section-accent: var(--section-accent-solutions, #{$brand-color});
}

.ai-section--overview {
  --section-accent: var(--section-accent-overview, #{$brand-color});
}

.ai-section--list,
.ai-section--info-list {
  --section-accent: var(--section-accent-list, #{$brand-color});
}

.ai-section--event {
  --section-accent: var(--section-accent-event, #{$brand-color});
}

.ai-section--chart {
  --section-accent: var(--section-accent-chart, var(--accent, #{$brand-color}));
}

.ai-section--text-reference {
  --section-accent: var(--section-accent-reference, var(--accent, #{$brand-color}));
}

.ai-section--quotation {
  --section-accent: var(--section-accent-quotation, var(--accent, #{$brand-color}));
}

/* Fullscreen mode - consistent padding using main variables */
.ai-card-surface--fullscreen {
  .ai-section {
    --section-padding: var(--section-padding);
    --section-spacing-bottom: calc(var(--card-gap) * 1.25);
    --section-gap: var(--section-card-gap);
    --section-gap-internal: var(--card-gap);
    --section-title-underline-length: 32px;
    --section-title-underline-hover-length: 40px;
    --section-title-underline-height: 2px;
    --section-title-underline-offset: -8px;
    --section-box-shadow: none !important;
    --section-box-shadow-hover: none !important;
  }

  .masonry-item {
    box-shadow: none !important;

    &:hover {
      box-shadow: none !important;
    }
  }

  .ai-section__header {
    padding: 0 0 calc(var(--card-gap) * 0.75) 0 !important;
    gap: calc(var(--card-gap) * 0.75) !important;
  }

  .ai-section__title {
    font-size: var(--card-title-font-size, 0.95rem) !important;
  }

  .ai-section__body {
    gap: var(--card-gap) !important;
  }

  .ai-section__description {
    font-size: var(--card-meta-font-size, 0.6rem) !important;
    margin-top: 4px !important;
  }
}

/* Theme overrides are handled automatically by theme system */
/* No hardcoded colors needed - all sections use theme variables */
/* Variables adapt based on theme selection (night/day/auto) */

/* Theme system handles all light/dark variations automatically */
/* All colors adapt through CSS variables defined in tokens/_master.scss */
