/* Base AI section container styling shared across card sections */
/* =========================================================== */
/* Consistent spacing across ALL sections - GLOBALLY ENFORCED */
@import "design-system";
@import "../../core/color-helpers";

.ai-section {
  --section-accent: var(--osi-section-accent);
  --section-border-hover: var(--osi-section-border-hover);
  --section-background: var(--osi-section-background);
  --section-background-hover: var(--osi-section-background-hover);
  --section-backdrop-filter: var(--osi-section-backdrop-filter);
  --section-spacing-bottom: var(--osi-section-spacing-bottom);
  --section-glow-background: var(--osi-section-glow-background);
  --section-glow-opacity-hover: var(--osi-section-glow-opacity-hover);
  --section-title-underline-length: var(--osi-section-title-underline-length);
  --section-title-underline-hover-length: var(--osi-section-title-underline-hover-length);
  --section-title-underline-height: var(--osi-section-title-underline-height);
  --section-title-underline-offset: var(--osi-section-title-underline-offset);
  --section-title-hover-color: var(--osi-section-title-hover-color);
  height: 100% !important;
  margin-bottom: var(--section-spacing-bottom) !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;

  /* Performance optimization: CSS containment (no paint to avoid clipping shadows/glow) */
  contain: layout style;

  * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }

  &:not(.masonry-item .ai-section) {
    @include section-wrapper;
  }

  .masonry-item & {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--osi-section-gap) !important;
  }
}

.ai-section--main {
  --section-background: var(--osi-section-background-main);
  --section-background-hover: var(--osi-section-background-main-hover);
}

.ai-section--contrast {
  --section-background: var(--osi-section-background-contrast);
  --section-background-hover: var(--osi-section-background-contrast-hover);
}

.ai-section__header {
  @include section-header(column, var(--osi-section-header-gap));
  flex-direction: column !important;
  align-items: flex-start !important;
  justify-content: flex-start !important;
  padding: 0 0 var(--osi-section-header-padding-bottom) 0 !important;
  border-bottom: none !important;
  background: transparent !important;
  margin: 0 !important;
  flex-wrap: wrap !important;
  gap: var(--osi-section-header-gap) !important;
  text-align: left !important;
}

.ai-section__title {
  @include section-heading-text;
  font-size: var(--osi-section-title-font-size) !important;
  font-weight: var(--osi-section-title-font-weight) !important;
  letter-spacing: var(--osi-section-title-letter-spacing) !important;
  line-height: var(--osi-section-title-line-height) !important;
  color: var(--osi-section-title-color) !important;
  opacity: 1 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  position: relative !important;
  transition: var(--osi-section-title-transition) !important;
  padding: 0 !important;
  margin: 0 0 var(--osi-section-title-margin-bottom) 0 !important;
  text-align: left !important;
  font-family: inherit !important;
  border: none !important;

  &::before {
    content: "" !important;
    position: absolute !important;
    left: 0 !important;
    bottom: var(--osi-section-title-underline-offset) !important;
    width: var(--osi-section-title-underline-length) !important;
    height: var(--osi-section-title-underline-height) !important;
    background: var(--osi-section-title-underline-color) !important;
    border-radius: var(--radius-xs) !important;
    transition:
      width 0.22s ease,
      opacity 0.22s ease !important;
    transform-origin: left !important;
    opacity: 0.6 !important;
  }

  &:hover {
    color: var(--osi-section-title-color) !important;

    &::before {
      width: var(--osi-section-title-underline-hover-length) !important;
      opacity: 1 !important;
    }
  }
}

.ai-section__icon {
  display: none !important;
  width: var(--icon-size-section) !important;
  height: var(--icon-size-section) !important;
}

.ai-section__details {
  display: flex !important;
  flex-direction: column !important;
  gap: var(--osi-section-header-gap) !important;
  align-items: flex-start !important;
  text-align: left !important;
}

.ai-section__description {
  @include section-description-text;
  color: var(--osi-section-description-color) !important;
  letter-spacing: 0.01em !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
  text-align: left !important;
  transition: var(--osi-section-description-transition) !important;
  font-family: inherit !important;
}

.ai-section:hover .ai-section__description {
  color: var(--osi-section-description-color-hover) !important;
}

.ai-section__badge {
  @include standard-badge;
  display: none !important;
  padding: var(--tag-padding-y-sm) var(--tag-padding-x) !important;
  border-radius: var(--radius-sm) !important;
}

/* Show badge for sections that need it */
.ai-section--contact-card .ai-section__badge,
.ai-section--solutions .ai-section__badge,
.ai-section--event .ai-section__badge,
.ai-section--chart .ai-section__badge,
.ai-section--financials .ai-section__badge {
  display: none !important;
  align-items: center !important;
  padding: var(--osi-section-badge-padding) !important;
  background: var(--osi-section-badge-bg) !important;
  color: var(--osi-section-badge-color) !important;
  border: none !important;
  box-shadow: none !important;
  border-radius: var(--osi-section-border-radius) !important;
  font-size: var(--card-meta-font-size, 0.6rem) !important;
  font-weight: var(--card-meta-font-weight, 500) !important;
  transition:
    opacity 0.2s ease,
    background 0.2s ease !important;
  line-height: 1.2 !important;
}

.ai-section:hover .ai-section__badge {
  opacity: 1 !important;
  background: var(--osi-section-badge-bg-hover) !important;
}

.ai-section__body {
  @include section-body(var(--osi-section-gap-internal));
  padding: 0 !important;
  margin: 0 !important;
}

/* Consistent empty state styling for all sections */
.ai-section .section-empty {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: var(--osi-section-padding) !important;
  text-align: center !important;
  color: var(--muted-foreground) !important;
  min-height: auto !important;
  border-radius: var(--radius-md) !important;
  background: var(--osi-section-empty-bg) !important;
  border: var(--osi-section-empty-border) !important;
  transition:
    opacity 0.2s ease,
    background 0.2s ease !important;

  lucide-icon {
    margin-bottom: var(--osi-section-gap) !important;
    opacity: var(--osi-section-empty-icon-opacity) !important;
    color: var(--accent) !important;
    transition: all 0.2s ease !important;
  }

  p {
    font-size: var(--font-section-description, 0.85rem) !important;
    margin: 0 !important;
    font-weight: 500 !important;
    font-family: inherit !important;
  }

  &:hover {
    background: var(--osi-section-empty-bg-hover) !important;
    border-color: var(--osi-section-empty-border-hover) !important;

    lucide-icon {
      opacity: var(--osi-section-empty-icon-opacity-hover) !important;
    }
  }
}

/* Section type differentiation - subtle visual identities */
.ai-section--info {
  --section-accent: var(--osi-section-accent-info);
}

.ai-section--analytics {
  --section-accent: var(--osi-section-accent-analytics);
}

.ai-section--financials {
  --section-accent: var(--osi-section-accent-financials);
}

.ai-section--map {
  --section-accent: var(--osi-section-accent-map);
}

.ai-section--network-card {
  --section-accent: var(--osi-section-accent-network);
}

.ai-section--contact-card {
  --section-accent: var(--osi-section-accent-contact);
}

.ai-section--product {
  --section-accent: var(--osi-section-accent-product);
}

.ai-section--solutions {
  --section-accent: var(--osi-section-accent-solutions);
}

.ai-section--overview {
  --section-accent: var(--osi-section-accent-overview);
}

.ai-section--list,
.ai-section--info-list {
  --section-accent: var(--osi-section-accent-list);
}

.ai-section--event {
  --section-accent: var(--osi-section-accent-event);
}

.ai-section--chart {
  --section-accent: var(--osi-section-accent-chart);
}

.ai-section--text-reference {
  --section-accent: var(--osi-section-accent-reference);
}

.ai-section--quotation {
  --section-accent: var(--osi-section-accent-quotation);
}

/* Fullscreen mode - consistent padding using main variables */
.ai-card-surface--fullscreen {
  .ai-section {
    --section-padding: var(--osi-section-padding);
    --section-spacing-bottom: var(--osi-section-spacing-bottom);
    --section-gap: var(--osi-section-gap);
    --section-gap-internal: var(--osi-section-gap-internal);
    --section-title-underline-length: var(--osi-section-title-underline-length);
    --section-title-underline-hover-length: var(--osi-section-title-underline-hover-length);
    --section-title-underline-height: var(--osi-section-title-underline-height);
    --section-title-underline-offset: var(--osi-section-title-underline-offset);
    --section-box-shadow: none !important;
    --section-box-shadow-hover: none !important;
  }

  .masonry-item {
    box-shadow: var(--osi-section-shadow-fullscreen) !important;

    &:hover {
      box-shadow: var(--osi-section-shadow-fullscreen) !important;
    }
  }

  .ai-section__header {
    padding: 0 0 var(--osi-section-header-padding-bottom) 0 !important;
    gap: var(--osi-section-header-gap) !important;
  }

  .ai-section__title {
    font-size: var(--card-title-font-size, 0.95rem) !important;
  }

  .ai-section__body {
    gap: var(--osi-section-gap-internal) !important;
  }

  .ai-section__description {
    font-size: var(--card-meta-font-size, 0.6rem) !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
  }
}

/* Theme overrides are handled automatically by theme system */
/* No hardcoded colors needed - all sections use theme variables */
/* Variables adapt based on theme selection (night/day/auto) */

/* Theme system handles all light/dark variations automatically */
/* All colors adapt through CSS variables defined in tokens/_master.scss */
