@import 'sections-base';
@import 'unified-cards';
@import '../../core/color-helpers';

.section-block--reference {
  --section-card-grid-min: 300px;
}

.section-card--reference {
  @include card;
  display: flex !important;
  flex-direction: column !important;
  min-height: auto !important;
  gap: var(--card-gap) !important;
  border: 1px solid $brand-color-20 !important;
}

.reference-card__content {
  display: flex !important;
  flex-direction: column !important;
  gap: calc(var(--card-gap) * 0.5) !important;
}

.reference-card__text {
  @include card-subtitle-text;
  font-size: calc(var(--card-subtitle-font-size, 0.7rem) * 1.1) !important;
  line-height: 1.4 !important;
  color: var(--card-text-primary, $foreground-color) !important;
  margin: 0 !important;
  font-family: inherit !important;
  border: none !important;
  padding: 0 !important;
}

.reference-card__footer {
  display: flex !important;
  flex-direction: column !important;
  gap: calc(var(--card-gap) * 0.5) !important;
  padding-top: calc(var(--card-padding) * 0.5) !important;
  border-top: none !important;
  margin-top: calc(var(--card-gap) * 0.125) !important;
}

.reference-card__meta {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: calc(var(--card-gap) * 0.75) !important;
  align-items: center !important;
}

.reference-card__category {
  display: inline-flex !important;
  align-items: center !important;
  padding: calc(var(--tag-padding-y-sm) * 1) calc(var(--tag-padding-x) * 1) !important;
  border-radius: var(--section-card-border-radius) !important;
  border: none !important;
  background: $brand-color-12 !important;
  @include label-text;
  font-size: calc(var(--card-meta-font-size, 0.6rem) + 1px) !important;
  font-weight: 700 !important;
  color: var(--color-brand, $brand-color) !important;
  --accent: var(--color-brand, #{$brand-color});
  line-height: 1.2 !important;
  flex-shrink: 0 !important;
  font-family: inherit !important;
}

.reference-card__source,
.reference-card__reference {
  @include card-meta-text;
  margin: 0 !important;
  line-height: 1.2 !important;
  font-family: inherit !important;
}

.reference-card__date {
  @include card-meta-text;
  margin-left: auto !important;
  margin: 0 !important;
  line-height: 1.2 !important;
  font-family: inherit !important;
}

.reference-card__link {
  display: inline-flex !important;
  align-items: center !important;
  gap: calc(var(--card-gap) * 0.5) !important;
  @include card-meta-text;
  color: var(--color-brand, $brand-color) !important;
  font-weight: 600 !important;
  text-decoration: none !important;
  transition: color 0.22s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.22s cubic-bezier(0.4, 0, 0.2, 1), transform 0.22s ease !important;
  line-height: 1.2 !important;

  &:hover {
    color: $brand-color-80 !important;
    opacity: 1 !important;
    transform: translateX(2px) !important;
    
    lucide-icon {
      opacity: 1 !important;
      transform: translateX(2px) !important;
    }
  }

  lucide-icon {
    width: 12px !important;
    height: 12px !important;
    transition: opacity 0.22s cubic-bezier(0.4, 0, 0.2, 1), transform 0.22s ease !important;
    flex-shrink: 0 !important;
  }
}

/* Light theme overrides - text colors only */
:root[data-theme='day'] {
  .reference-card {
    &__text {
      color: #4b5563 !important;
    }
    
    &__category {
      color: var(--primary, $brand-color) !important;
    }
    
    &__source {
      color: #6b7280 !important;
    }
    
    &__date {
      color: #9ca3af !important;
    }
    
    &__link {
      color: var(--primary, $brand-color) !important;
      
      &:hover {
        color: var(--primary, $brand-color) !important;
      }
    }
  }
}
