<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Best Practices - OSI Cards Documentation</title>
  <meta name="description" content="OSI Cards documentation: Best Practices">
  <meta property="og:title" content="Best Practices - OSI Cards">
  <meta property="og:description" content="OSI Cards documentation: Best Practices">
  <meta property="og:type" content="article">
  <meta name="twitter:card" content="summary">
  <link rel="canonical" href="https://osi-cards.dev/docs/best-practices">
  <style>
    body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 2rem; }
    pre { background: #1e1e1e; color: #d4d4d4; padding: 1rem; border-radius: 8px; overflow-x: auto; }
    code { background: #f3f4f6; padding: 0.2rem 0.4rem; border-radius: 4px; font-size: 0.9em; }
    pre code { background: none; padding: 0; }
    h1, h2, h3, h4 { margin-top: 2rem; }
    .anchor-link { opacity: 0; margin-left: 0.5rem; text-decoration: none; }
    h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link { opacity: 0.5; }
    a { color: #e07b39; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #e5e7eb; padding: 0.5rem; text-align: left; }
    th { background: #f9fafb; }
    .callout { padding: 1rem; border-radius: 8px; margin: 1rem 0; display: flex; gap: 0.75rem; }
    .callout.tip { background: #ecfdf5; border-left: 4px solid #10b981; }
    .callout.warning { background: #fffbeb; border-left: 4px solid #f59e0b; }
    .callout.info { background: #eff6ff; border-left: 4px solid #3b82f6; }
    .callout.danger { background: #fef2f2; border-left: 4px solid #ef4444; }
    .callout-icon { width: 20px; height: 20px; flex-shrink: 0; }
    .code-header { display: flex; justify-content: space-between; background: #2d2d2d; padding: 0.5rem 1rem; border-radius: 8px 8px 0 0; }
    .code-lang { color: #9ca3af; font-size: 0.75rem; text-transform: uppercase; }
    .code-block-wrapper pre { margin-top: 0; border-radius: 0 0 8px 8px; }
  </style>
</head>
<body>
  <nav>
    <a href="/">‚Üê Back to OSI Cards</a> |
    <a href="/docs">Documentation</a>
  </nav>
  <main>
    <h1 id="best-practices"><a href="#best-practices" class="anchor-link" aria-hidden="true">#</a>Best Practices</h1></p><p>Comprehensive best practices guide for using OSI Cards effectively.</p><p><h2 id="performance"><a href="#performance" class="anchor-link" aria-hidden="true">#</a>Performance</h2></p><p><h3 id="1-use-onpush-change-detection"><a href="#1-use-onpush-change-detection" class="anchor-link" aria-hidden="true">#</a>1. Use OnPush Change Detection</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">@Component({<br>  selector: 'app-card-viewer',<br>  changeDetection: ChangeDetectionStrategy.OnPush,<br>  // ...<br>})</code></pre></div></p><p><h3 id="2-lazy-load-cards"><a href="#2-lazy-load-cards" class="anchor-link" aria-hidden="true">#</a>2. Lazy Load Cards</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">// Load cards on demand<br>cardData.getCardsByType('company').pipe(<br>  take(10), // Limit initial load<br>  shareReplay(1) // Cache results<br>).subscribe();</code></pre></div></p><p><h3 id="3-virtual-scrolling-for-large-lists"><a href="#3-virtual-scrolling-for-large-lists" class="anchor-link" aria-hidden="true">#</a>3. Virtual Scrolling for Large Lists</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">// Use Angular CDK virtual scrolling for many cards<br>&amp;lt;cdk-virtual-scroll-viewport itemSize="400"&amp;gt;<br>  &amp;lt;app-ai-card-renderer<br>    *cdkVirtualFor="let card of cards$"<br>    [cardConfig]="card"&amp;gt;<br>  &amp;lt;/app-ai-card-renderer&amp;gt;<br>&amp;lt;/cdk-virtual-scroll-viewport&amp;gt;</code></pre></div></p><p><h2 id="data-management"><a href="#data-management" class="anchor-link" aria-hidden="true">#</a>Data Management</h2></p><p><h3 id="1-cache-card-data"><a href="#1-cache-card-data" class="anchor-link" aria-hidden="true">#</a>1. Cache Card Data</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">private cards$ = this.cardData.getAllCards().pipe(<br>  shareReplay(1)<br>);</code></pre></div></p><p><h3 id="2-handle-loading-states"><a href="#2-handle-loading-states" class="anchor-link" aria-hidden="true">#</a>2. Handle Loading States</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">cards$ = this.cardData.getAllCards().pipe(<br>  startWith(null),<br>  map(cards =&amp;gt; ({ cards, loading: cards === null }))<br>);</code></pre></div></p><p><h3 id="3-error-handling"><a href="#3-error-handling" class="anchor-link" aria-hidden="true">#</a>3. Error Handling</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">cards$ = this.cardData.getAllCards().pipe(<br>  catchError(error =&amp;gt; {<br>    console.error('Error loading cards:', error);<br>    return of([]);<br>  })<br>);</code></pre></div></p><p><h2 id="section-types"><a href="#section-types" class="anchor-link" aria-hidden="true">#</a>Section Types</h2></p><p><h3 id="1-choose-appropriate-section-types"><a href="#1-choose-appropriate-section-types" class="anchor-link" aria-hidden="true">#</a>1. Choose Appropriate Section Types</h3></p><p><ul><li><strong>Info</strong>: For key-value pairs and metadata</li><li><strong>Analytics</strong>: For metrics and KPIs</li><li><strong>List</strong>: For structured lists</li><li><strong>Chart</strong>: For data visualization</li><li><strong>Map</strong>: For geographic data</li></ul>
<h3 id="2-optimize-section-data"><a href="#2-optimize-section-data" class="anchor-link" aria-hidden="true">#</a>2. Optimize Section Data</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">// Good: Structured data<br>{<br>  title: 'Metrics',<br>  type: 'analytics',<br>  fields: [<br>    { label: 'Growth', value: '85%', percentage: 85 }<br>  ]<br>}</p><p>// Avoid: Unstructured or excessive data<br>{<br>  title: 'Data',<br>  type: 'info',<br>  fields: [<br>    // Too many fields without grouping<br>  ]<br>}</code></pre></div></p><p><h2 id="llm-integration"><a href="#llm-integration" class="anchor-link" aria-hidden="true">#</a>LLM Integration</h2></p><p><h3 id="1-structured-prompts"><a href="#1-structured-prompts" class="anchor-link" aria-hidden="true">#</a>1. Structured Prompts</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">text</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-text">Generate a card for [entity] with:
<ul><li>Title: [title]</li><li>Sections: [section types]</li><li>Actions: [actions]</li></ul>
Return valid JSON following AICardConfig schema.</code></pre></div></p><p><h3 id="2-validate-llm-responses"><a href="#2-validate-llm-responses" class="anchor-link" aria-hidden="true">#</a>2. Validate LLM Responses</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">try {<br>  const card = JSON.parse(llmResponse);<br>  if (isValidCardConfig(card)) {<br>    this.cardConfig = card;<br>  }<br>} catch (error) {<br>  console.error('Invalid card JSON:', error);<br>}</code></pre></div></p><p><h3 id="3-progressive-updates"><a href="#3-progressive-updates" class="anchor-link" aria-hidden="true">#</a>3. Progressive Updates</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">streamingService.cardUpdates$.subscribe(update =&amp;gt; {<br>  // Show partial card during streaming<br>  this.cardConfig = update.card;<br>  this.isStreaming = update.isComplete === false;<br>});</code></pre></div></p><p><h2 id="accessibility"><a href="#accessibility" class="anchor-link" aria-hidden="true">#</a>Accessibility</h2></p><p><h3 id="1-semantic-html"><a href="#1-semantic-html" class="anchor-link" aria-hidden="true">#</a>1. Semantic HTML</h3></p><p>Cards use semantic HTML by default. Ensure proper heading hierarchy.</p><p><h3 id="2-aria-labels"><a href="#2-aria-labels" class="anchor-link" aria-hidden="true">#</a>2. ARIA Labels</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">&amp;lt;app-ai-card-renderer<br>  [cardConfig]="card"<br>  [attr.aria-label]="card.cardTitle"&amp;gt;<br>&amp;lt;/app-ai-card-renderer&amp;gt;</code></pre></div></p><p><h3 id="3-keyboard-navigation"><a href="#3-keyboard-navigation" class="anchor-link" aria-hidden="true">#</a>3. Keyboard Navigation</h3></p><p>All interactive elements support keyboard navigation out of the box.</p><p><h2 id="theming"><a href="#theming" class="anchor-link" aria-hidden="true">#</a>Theming</h2></p><p><h3 id="1-use-css-variables"><a href="#1-use-css-variables" class="anchor-link" aria-hidden="true">#</a>1. Use CSS Variables</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">scss</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-scss">:root {<br>  --color-brand: #ff7900;<br>  --card-padding: 1.25rem;<br>  --card-border-radius: 12px;<br>}</code></pre></div></p><p><h3 id="2-consistent-spacing"><a href="#2-consistent-spacing" class="anchor-link" aria-hidden="true">#</a>2. Consistent Spacing</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">scss</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-scss">.card {<br>  padding: var(--card-padding);<br>  margin-bottom: var(--spacing-md);<br>}</code></pre></div></p><p><h2 id="security"><a href="#security" class="anchor-link" aria-hidden="true">#</a>Security</h2></p><p><h3 id="1-sanitize-user-input"><a href="#1-sanitize-user-input" class="anchor-link" aria-hidden="true">#</a>1. Sanitize User Input</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">import { DomSanitizer } from '@angular/platform-browser';</p><p>const sanitized = this.sanitizer.sanitize(<br>  SecurityContext.HTML,<br>  userInput<br>);</code></pre></div></p><p><h3 id="2-validate-card-data"><a href="#2-validate-card-data" class="anchor-link" aria-hidden="true">#</a>2. Validate Card Data</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">function isValidCardConfig(card: any): card is AICardConfig {<br>  return (<br>    card &amp;amp;&amp;amp;<br>    typeof card.cardTitle === 'string' &amp;amp;&amp;amp;<br>    Array.isArray(card.sections) &amp;amp;&amp;amp;<br>    card.sections.length &amp;gt; 0<br>  );<br>}</code></pre></div></p><p><h2 id="testing"><a href="#testing" class="anchor-link" aria-hidden="true">#</a>Testing</h2></p><p><h3 id="1-unit-tests"><a href="#1-unit-tests" class="anchor-link" aria-hidden="true">#</a>1. Unit Tests</h3></p><p><div class="code-block-wrapper"><div class="code-header"><span class="code-lang">typescript</span><div class="code-actions"><button class="copy-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button></div></div><pre><code class="language-typescript">it('should render card', () =&amp;gt; {<br>  const card: AICardConfig = {<br>    cardTitle: 'Test Card',<br>    sections: [{ title: 'Test', type: 'info', fields: [] }]<br>  };<br>  <br>  component.cardConfig = card;<br>  fixture.detectChanges();<br>  <br>  expect(component).toBeTruthy();<br>});</code></pre></div></p><p><h3 id="2-integration-tests"><a href="#2-integration-tests" class="anchor-link" aria-hidden="true">#</a>2. Integration Tests</h3></p><p>Test card generation from LLM responses and data providers.</p><p><h2 id="common-pitfalls"><a href="#common-pitfalls" class="anchor-link" aria-hidden="true">#</a>Common Pitfalls</h2></p><p><h3 id="1-over-nesting-sections"><a href="#1-over-nesting-sections" class="anchor-link" aria-hidden="true">#</a>1. Over-nesting Sections</h3></p><p>Avoid too many nested sections. Keep structure flat when possible.</p><p><h3 id="2-missing-error-handling"><a href="#2-missing-error-handling" class="anchor-link" aria-hidden="true">#</a>2. Missing Error Handling</h3></p><p>Always handle errors when loading cards or processing LLM responses.</p><p><h3 id="3-ignoring-loading-states"><a href="#3-ignoring-loading-states" class="anchor-link" aria-hidden="true">#</a>3. Ignoring Loading States</h3></p><p>Show loading indicators during card generation and data fetching.</p><p><h3 id="4-not-caching-data"><a href="#4-not-caching-data" class="anchor-link" aria-hidden="true">#</a>4. Not Caching Data</h3></p><p>Cache card data to avoid unnecessary API calls.</p><p><h2 id="related-documentation"><a href="#related-documentation" class="anchor-link" aria-hidden="true">#</a>Related Documentation</h2></p><p><ul><li><a href="/docs/section-types">Section Types</a></li><li><a href="/docs/llm-integration">LLM Integration</a></li><li><a href="/docs/api">API Reference</a></li></ul></p><p>
  </main>
  <footer>
    <p>Generated: 2025-12-01T09:15:43.701Z</p>
    <p><a href="https://github.com/Inutilepat83/OSI-Cards">View on GitHub</a></p>
  </footer>
</body>
</html>