{
  "pageId": "streaming/error-handling",
  "title": "Streaming Error Handling",
  "html": "<h1 id=\"streaming-error-handling\"><a href=\"#streaming-error-handling\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Streaming Error Handling</h1></p><p>Handling errors and recovery in streaming.</p><p><h2 id=\"error-states\"><a href=\"#error-states\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Error States</h2></p><p>Streaming can fail due to:\n<ul><li>Invalid JSON</li><li>Network interruption</li><li>Timeout</li></ul>\n<h2 id=\"detecting-errors\"><a href=\"#detecting-errors\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Detecting Errors</h2></p><p><div class=\"code-block-wrapper\"><div class=\"code-header\"><span class=\"code-lang\">typescript</span><div class=\"code-actions\"><button class=\"copy-btn\" type=\"button\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>Copy</button></div></div><pre><code class=\"language-typescript\">streamingService.state$.subscribe(state =&amp;gt; {<br>  if (state.stage === 'error') {<br>    // Handle error<br>    this.showError('Streaming failed');<br>  }<br>});</code></pre></div></p><p><h2 id=\"recovery-strategies\"><a href=\"#recovery-strategies\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Recovery Strategies</h2></p><p><h3 id=\"retry\"><a href=\"#retry\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Retry</h3></p><p><div class=\"code-block-wrapper\"><div class=\"code-header\"><span class=\"code-lang\">typescript</span><div class=\"code-actions\"><button class=\"copy-btn\" type=\"button\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>Copy</button></div></div><pre><code class=\"language-typescript\">async retryStream(json: string, maxRetries = 3) {<br>  for (let i = 0; i &amp;lt; maxRetries; i++) {<br>    try {<br>      this.streamingService.start(json);<br>      <br>      await firstValueFrom(<br>        this.streamingService.state$.pipe(<br>          filter(s =&amp;gt; s.stage === 'complete' || s.stage === 'error'),<br>          take(1)<br>        )<br>      );<br>      <br>      const state = this.streamingService.getState();<br>      if (state.stage === 'complete') return;<br>      <br>    } catch (e) {<br>      if (i === maxRetries - 1) throw e;<br>    }<br>  }<br>}</code></pre></div></p><p><h3 id=\"fallback-to-static\"><a href=\"#fallback-to-static\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Fallback to Static</h3></p><p><div class=\"code-block-wrapper\"><div class=\"code-header\"><span class=\"code-lang\">typescript</span><div class=\"code-actions\"><button class=\"copy-btn\" type=\"button\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>Copy</button></div></div><pre><code class=\"language-typescript\">streamingService.state$.subscribe(state =&amp;gt; {<br>  if (state.stage === 'error') {<br>    // Try to parse what we have<br>    try {<br>      const partial = JSON.parse(this.buffer);<br>      this.card = partial;<br>    } catch {<br>      // Show static placeholder<br>      this.card = this.getPlaceholderCard();<br>    }<br>  }<br>});</code></pre></div></p><p><h2 id=\"validation\"><a href=\"#validation\" class=\"anchor-link\" aria-hidden=\"true\">#</a>Validation</h2></p><p><div class=\"code-block-wrapper\"><div class=\"code-header\"><span class=\"code-lang\">typescript</span><div class=\"code-actions\"><button class=\"copy-btn\" type=\"button\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>Copy</button></div></div><pre><code class=\"language-typescript\">// Validate before streaming<br>if (!isValidJson(jsonString)) {<br>  this.showError('Invalid JSON');<br>  return;<br>}</p><p>streamingService.start(jsonString);</code></pre></div>\n",
  "toc": [
    {
      "id": "streaming-error-handling",
      "text": "Streaming Error Handling",
      "level": 1
    },
    {
      "id": "error-states",
      "text": "Error States",
      "level": 2
    },
    {
      "id": "detecting-errors",
      "text": "Detecting Errors",
      "level": 2
    },
    {
      "id": "recovery-strategies",
      "text": "Recovery Strategies",
      "level": 2
    },
    {
      "id": "retry",
      "text": "Retry",
      "level": 3
    },
    {
      "id": "fallback-to-static",
      "text": "Fallback to Static",
      "level": 3
    },
    {
      "id": "validation",
      "text": "Validation",
      "level": 2
    }
  ],
  "contentHash": "d29891babba11b41",
  "generatedAt": "2025-12-01T09:15:43.791Z",
  "demoConfigs": {}
}