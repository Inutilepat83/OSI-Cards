<!-- JSON Configuration Header -->
<label for="json-config-textarea" class="flex items-center gap-2 mb-4">
  <div class="file-text-icon w-5 h-5"></div>
  <span class="font-semibold">JSON Configuration</span>
  <span class="badge-destructive" *ngIf="!isJsonValid">Invalid JSON</span>
</label>

<!-- JSON Textarea -->
<textarea
  id="json-config-textarea"
  #textareaRef
  [(ngModel)]="jsonInput"
  (ngModelChange)="onJsonInputChange()"
  class="font-mono text-sm resize-none overflow-y-auto border-2 transition-all duration-300 min-h-[400px] lg:min-h-[600px] p-4 input-background text-foreground textarea-focus"
  [class]="isJsonValid ? 'border-gray-600' : 'border-red-500/50'"
  [attr.aria-invalid]="!isJsonValid"
  [attr.aria-describedby]="jsonError ? 'json-error-message' : null"
  placeholder="Enter your card configuration JSON here..."
  rows="20"
  aria-label="JSON configuration editor for card customization">
</textarea>

<!-- Error Message -->
<div
  id="json-error-message"
  class="p-2 bg-red-500/10 border border-red-500/20 rounded text-sm text-red-400"
  *ngIf="jsonError"
  role="alert"
  aria-live="polite">
  <strong>JSON Error:</strong> {{ jsonError }}
</div>
