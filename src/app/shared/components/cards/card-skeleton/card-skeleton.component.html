<div class="card-skeleton" [class.card-skeleton--fullscreen]="isFullscreen">
  <div class="card-skeleton-header">
    <div class="skeleton-title" *ngIf="cardTitle; else noTitle">
      {{ cardTitle }}
    </div>
    <ng-template #noTitle>
      <div class="skeleton-title-placeholder"></div>
    </ng-template>
  </div>

  <div class="card-skeleton-sections" *ngIf="sectionCount > 0">
    <div
      *ngFor="let section of [].constructor(sectionCount); let i = index"
      class="skeleton-section"
      [style.animation-delay.ms]="i * 100"
    >
      <div class="skeleton-section-header">
        <div class="skeleton-line skeleton-line--title"></div>
      </div>
      <div class="skeleton-section-content">
        <div class="skeleton-line" *ngFor="let line of [].constructor(2)"></div>
      </div>
    </div>
  </div>

  <!-- Show placeholder when no sections yet -->
  <div class="card-skeleton-empty" *ngIf="sectionCount === 0">
    <div class="skeleton-line skeleton-line--empty"></div>
  </div>

  <!-- Action buttons placeholder -->
  <div class="card-skeleton-actions" *ngIf="actionCount > 0">
    <div
      *ngFor="let action of [].constructor(actionCount); let i = index"
      class="skeleton-action-button"
      [style.animation-delay.ms]="sectionCount * 100 + i * 50"
    ></div>
  </div>

  <!-- Signature placeholder -->
  <div class="card-skeleton-signature">
    <div class="skeleton-signature-line"></div>
  </div>
</div>
