<!-- Card Type Selector with Label - Improved Design -->
<div class="card-controls-wrapper">
  <div class="controls-section" role="radiogroup" aria-labelledby="card-type-label">
    <span class="controls-label" id="card-type-label">Card Type</span>
    <div class="controls-buttons-grid" role="presentation">
      <button
        *ngFor="let type of cardTypes; trackBy: trackByCardType; let i = index"
        (click)="onCardTypeChange(type)"
        (keydown.enter)="onCardTypeChange(type)"
        (keydown.space)="$event.preventDefault(); onCardTypeChange(type)"
        (keydown)="onCardTypeKeydown($event, i)"
        #cardTypeButton
        class="control-button"
        [class.active]="cardType === type"
        [disabled]="switchingType"
        [attr.aria-label]="'Switch to ' + type + ' card type'"
        [attr.aria-checked]="cardType === type"
        [attr.aria-describedby]="'card-type-label'"
        role="radio"
        [attr.tabindex]="cardType === type ? 0 : -1"
        type="button">
        {{ type.charAt(0).toUpperCase() + type.slice(1) }}
      </button>
    </div>
  </div>

  <!-- Variant Selector -->
  <div class="controls-section" role="radiogroup" aria-labelledby="card-variant-label">
    <span class="controls-label" id="card-variant-label">Template</span>
    <div class="controls-buttons-inline" role="presentation">
      <button
        *ngFor="let variant of [1, 2, 3]; trackBy: trackByVariant; let i = index"
        (click)="onCardVariantChange(variant)"
        (keydown.enter)="onCardVariantChange(variant)"
        (keydown.space)="$event.preventDefault(); onCardVariantChange(variant)"
        (keydown)="onVariantKeydown($event, i)"
        #variantButton
        class="variant-button"
        [class.active]="cardVariant === variant"
        [disabled]="switchingType"
        [title]="'Load variant ' + variant + ' of ' + cardType + ' template'"
        [attr.aria-label]="'Load variant ' + variant + ' of ' + cardType + ' template'"
        [attr.aria-checked]="cardVariant === variant"
        [attr.aria-describedby]="'card-variant-label'"
        role="radio"
        [attr.tabindex]="cardVariant === variant ? 0 : -1"
        type="button">
        {{ variant }}
      </button>
    </div>
  </div>
</div>
