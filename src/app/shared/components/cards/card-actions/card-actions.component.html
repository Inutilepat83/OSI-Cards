<div *ngIf="actions.length" class="mt-auto" style="margin-top: var(--section-card-gap, 12px); padding-bottom: 16px;" role="toolbar" [attr.aria-label]="'Card actions: ' + actions.length + ' action' + (actions.length !== 1 ? 's' : '')">
  <div class="flex flex-wrap items-center gap-3" style="margin-left: 4px; margin-right: 4px;">
    <button
      *ngFor="let action of actions; trackBy: trackAction; let i = index"
      type="button"
      class="px-5 py-2.5 text-sm transition-all duration-200 flex items-center gap-2 cursor-pointer"
      [ngClass]="getActionButtonClasses(action)"
      [style.border-radius]="'var(--section-card-border-radius, 10px)'"
      [attr.aria-label]="getActionAriaLabel(action)"
      [attr.aria-describedby]="action.type === 'mail' ? 'action-mail-hint-' + i : null"
      [attr.aria-posinset]="i + 1"
      [attr.aria-setsize]="actions.length"
      (click)="onActionClick(action)"
      (keydown.enter)="onActionClick(action)"
      (keydown.space)="$event.preventDefault(); onActionClick(action)"
    >
      <!-- Lucide icon (for type defaults or explicit lucide icon names) -->
      <lucide-icon 
        *ngIf="getActionIconNameForDisplay(action) as iconName"
        [name]="iconName"
        [size]="16"
        aria-hidden="true">
      </lucide-icon>
      <!-- Image icon (for URL-based icons) -->
      <img 
        *ngIf="hasImageIcon(action)"
        [src]="action.icon"
        [alt]="action.label + ' icon'"
        style="width: 16px; height: 16px;"
        aria-hidden="true"
      />
      <!-- Text icon (for emoji or text-based icons) -->
      <span *ngIf="hasTextIcon(action)" aria-hidden="true">{{ action.icon }}</span>
      <span>{{ action.label }}</span>
      <!-- Hidden hint for mail actions -->
      <span *ngIf="action.type === 'mail'" [id]="'action-mail-hint-' + i" class="sr-only">
        This will open your email client with pre-filled recipient and message
      </span>
    </button>
  </div>
</div>

