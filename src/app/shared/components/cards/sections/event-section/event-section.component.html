<div class="ai-section ai-section--event">
  <div class="ai-section__header">
    <div class="ai-section__details">
      <h3 class="ai-section__title">{{ section.title }}</h3>
      <p *ngIf="section.description" class="ai-section__description">{{ section.description }}</p>
    </div>
    <span *ngIf="events.length" class="ai-section__badge">
      {{ events.length }} events
    </span>
  </div>

  <div class="ai-section__body">
    <ng-container *ngIf="events.length; else eventEmpty">
      <div class="relative space-y-4">
        <div class="absolute left-3 top-3 bottom-3 w-px bg-border/60"></div>

        <button
          *ngFor="let event of events; trackBy: trackEvent"
          type="button"
          class="event-card"
          (click)="onEventClick(event)"
        >
          <div class="relative flex h-6 w-6 items-center justify-center rounded-full border border-primary/50 bg-primary/20 text-primary">
            <lucide-icon name="calendar" size="14"></lucide-icon>
            <span class="absolute -left-[21px] top-1/2 h-px w-[18px] -translate-y-1/2 bg-border/70"></span>
          </div>
          <div class="flex-1 space-y-2">
            <div class="flex flex-wrap items-center gap-2">
              <p class="text-base font-semibold text-foreground">{{ event.title }}</p>
              <span *ngIf="event.status" class="badge" [ngClass]="getStatusChipClass(event)">
                {{ event.status | uppercase }}
              </span>
            </div>
            <div class="flex flex-wrap items-center gap-3 text-sm text-muted-foreground">
              <div *ngIf="event.date" class="flex items-center gap-1">
                <lucide-icon name="calendar" size="14"></lucide-icon>
                <span>{{ event.date }}</span>
              </div>
              <div *ngIf="event.time" class="flex items-center gap-1">
                <lucide-icon name="clock" size="14"></lucide-icon>
                <span>{{ event.time }}</span>
              </div>
            </div>
            <p *ngIf="event.description" class="text-sm text-muted-foreground">{{ event.description }}</p>
          </div>
        </button>
      </div>
    </ng-container>

    <ng-template #eventEmpty>
      <div class="section-empty">
        <lucide-icon name="calendar" size="32" class="mb-3 opacity-60"></lucide-icon>
        <p class="text-sm">No timeline data available.</p>
      </div>
    </ng-template>
  </div>
</div>
